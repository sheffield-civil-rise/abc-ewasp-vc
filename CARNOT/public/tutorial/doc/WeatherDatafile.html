<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<meta name="author" content="AuthorXY">
<title>Carnot Manual - Load from File</title>

<style type="text/css">
body{margin-left:108.0pt;}

p	{
	margin-right:0cm;
	line-height:120%;
	font-size:13.5pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

ul
	{
	margin-bottom:0cm;
	list-style-position: outside;
	}


ol
	{
	margin-bottom:0cm;
	list-style-position: outside;
	}

li
	{
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	line-height:120%;
	font-size:13.5pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

a:link
	{
	color:blue;
	text-decoration:underline;
	text-underline:single;
	}


p.toc1
	{
	margin-top: 1.0em;
	margin-bottom: 0.0em;
	}	


p.toc2
	{
	margin-top: 0.0em;
	margin-bottom: 0.0em;
	margin-left:12.0pt;
	}	

p.toc3
	{
	margin-top: 0.0em;
	margin-bottom: 0.0em;
	margin-left:24.0pt;
	}	

p.blockname
	{margin-top: 10px;
	 margin-bottom: 0;
	 font-size:18.0pt;
	 line-height:120%;
	 font-weight: bold;
	}

table
	{
	margin-left:108.0pt;
	line-height:120%;
	font-size:13.5pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

tt
	{
	font-family:"Courier New";
	line-height:200%;
	margin-left:20.0pt;
	}


h1
	{
	margin-right:0cm;
	line-height:120%;
	font-size: 18pt;
	font-weight: bold;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

h2
	{
	margin-right:0cm;
	line-height:120%;
	font-size: 16pt;
	font-weight: bold;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

h3
	{
	margin-right:0cm;
	line-height:120%;
	font-size: 13.5pt;
	font-weight: bold;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}

.eq 
	{
	width: 1000px;
	margin-left:24.0pt;
    font-family: "Times New Roman","sans-serif";
	font-size: 13.5pt;
	}

.eq td 
	{
	width: 800px
	text-align: left;
	font-size: 13.5pt;
	font-weight: normal;
	color:#5A5A5A;
	}

hr	
	{
	border-width:0;
	background-color:#A0A0A0;
	color: #A0A0A0;
	height: 2px;
	}

hr.large
	{
	height: 10px;
	}

.eq th 
	{
	width: 200px
	text-align: right;
	font-family: "Calibri","sans-serif";
	font-size: 13.5pt;
	font-weight: normal;
	color:#5A5A5A;
	}

mathrm
	{
	font-family:"Times New Roman","sans-serif";
	white-space: nowrap;
	}

.vectortable
	{
	border: 0;
	}

.vectortable th
	{
	padding: 6px;
	text-align: left;
	text-decoration: underline;
	}

.vectortable td
	{
	padding: 6px;
	text-align: left;
	vertical-align: top;
	}

.ref
	{
	padding: 0px;
	/*list-style: none; 
	counter-reset:array;
*/	}

.ref li:before
	{
	/*counter-increment:array;
	content:"[" counter(array) "] ";*/
	}
	
.auto-style1 {
	border-width: 0px;
}
	
.auto-style2 {
	font-family: "Courier New", Courier, monospace;
}
	
.auto-style3 {
	text-decoration: underline;
}
	
</style>
</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">

<hr class="large">
<!--Insert Block Name, Path and Image here-->
<img width=220 height=86 src="Figures/Weather_Datafile_1.jpg" align=right class="auto-style1">
<p class="blockname">Weather_Datafile</p>
<p style="margin-top:0px; margin-bottom:20px"><strong>Path: CARNOT/Weather</strong></p>
<!--End of Insert-->
<hr>

<p><b>Purpose:</b><br>
Read weather data from a data file.</p>
<p><b>Description:</b><br>
The block loads weather data from a *.mat, *.txt, *.dat, *.csv or ascii-file in a 
variable in the mask workspace. The signal is converted to the Weather Data Bus 
(WBD). <br>A &quot;From Workspace&quot; bock in the subsystem uses 
this variable to create a time dependant signal in Simulink (see Simulink &quot;From 
Workspace&quot; block for details). The file must contain contain weather data in the 
Carnot weather data format (see WDB_format.m or type <span class="auto-style2">
help WDB_format</span> in the command window).<br>A Unit-Delay with the timestep of the data forces the 
model to a maximum timestep equal to the data timestep. This &quot;Timestep in data&quot; 
is shown as information in the &quot;Selection&quot; frame.</p>
<p>The block is typically used to read test reference years, e.g. try-format of 
DWD [DWD 2017], [DWD 2014], tmy-format or Meteonorm [Meteonorm 2019]. Some scripts are 
available in Carnot to convert other formats to WDB format (see chapter
<a href="2_Basic_Concepts.html#weather_data_import_functions">2.1.3 Weather Data 
Bus</a>).</p>
<p>Some data records are available in carnot\public\data. See chapter
<a href="2_Basic_Concepts.html#weather_data_records">2.6 Weather Data Records</a> 
for details.</p>
<p>Hint: General data like electric load profiles can be read in the 
model with the Data_from_File block in CARNOT/Load/General. <br></p>
<p>&nbsp;</p>
<p><b>Parameters</b></p>

<!--This is how we make lists-->

<p><img alt="" src="Figures/Weather_Datafile_SHOT.jpg">&nbsp;<p>
<strong>&quot;Picking a file&quot; frame<br></strong>Use of buttons :<br>1) &quot;From selected path&quot; opens a 
window to chose a data file from the &quot;Selected path&quot; shown in the &quot;Selection&quot; 
frame.<br>2) &quot;Carnot public data&quot; opens a window to chose a data file from the 
public data folder in Carnot. The &quot;Path&quot; is set to the public data folder.<br>3) 
&quot;Carnot internal data&quot; opens a window to chose a data file from the internal 
data folder in Carnot. The &quot;Path&quot; is set to the internal data folder.</p>
<p><strong>&quot;Chosen file&quot; frame</strong><br>&quot;File&quot; 
shows the name of the selected file, &quot;Path&quot; the folder where it is located.&nbsp; </p>
<ul>
 <li> Path - folder where of the file. Valid entries are:<br>'c:\myFiles\' - a 
 valid path on your computer<br>path_carnot('data') - selects the \public\data 
 folder of Carnot as the path<br>path_carnot('intdata') - selects the 
 \internal\data folder of Carnot as the path<br>'current' - selects the current 
 working directory as the path</li>
 <li> File - Name of the selected file with its extension</li>
	<li> Edit file and path - allows manual editing of the path and file. Be aware that the buttons 
in the &quot;Picking a file&quot; frame will anyway overwrite the edited values.</li>
	<li> VariableName - hidden parameter with the variable name used in the From 
	Workspace block</li>
</ul>

<p>
&nbsp;<p>
&nbsp;<p class="auto-style3">
<strong>Characteristics</strong><p style="margin-bottom:0;"><b>Input:</b>
<!--Input and Output Variables are presented in tables
	Do not change the column width!-->
&nbsp;none

<p style="margin-bottom:0;"><b>Output:</b>&nbsp; WDB<p style="margin-bottom:0;">
<strong>Used functions: </strong>CarnotCallbacks_Data_from_File.m<p style="margin-bottom:0;">
<strong>See also:</strong>&nbsp; Meteonorm2wformat.m, MeteonormMinute2wformat.m, 
tmy2wdb.m, try2wdb.m, dwd2wdb.m<br>
<p style="margin-bottom:0;">
<strong>Similar blocks:</strong> Weather_from_Workspace, Data_from_File, mdot_DHWcalc<p style="margin-bottom:0;">
&nbsp;<p style="margin-bottom:0;">
<strong>Literature</strong><p style="margin-bottom:0;">DWD 2017: Test reference 
years for Germany, Deutscher Wetter-Dienst: Ortsgenaue Testreferenzjahre (TRY) 
von Deutschland für mittlere und extreme Witterungsverhältnisse <br>
<a href="https://www.dwd.de/DE/leistungen/testreferenzjahre/testreferenzjahre.html">https://www.dwd.de/DE/leistungen/testreferenzjahre/testreferenzjahre.html</a> 
(access: 08/05/2020) <br>
<a href="https://www.bbsr.bund.de/BBSR/DE/FP/ZB/Auftragsforschung/5EnergieKlimaBauen/2013/testreferenzjahre/01-start.html">
https://www.bbsr.bund.de/BBSR/DE/FP/ZB/Auftragsforschung/5EnergieKlimaBauen/2013/testreferenzjahre/01-start.html</a> 
(access: 08/05/2020)<p style="margin-bottom:0;">DWD 2014: Test reference years based on the 2011 
data; Handbuch Testreferenzjahre von Deutschland für mittlere, extreme und 
zukünftige Witterungsverhältnisse; Bundesamtes für Bauwesen und Raumordnung 
(BBR), Climate &amp; Environment Consulting Potsdam GmbH; Deutschen Wetterdienst 
(DWD) <br>
<a href="https://www.bbsr-energieeinsparung.de/EnEVPortal/DE/Regelungen/Testreferenzjahre/Testreferenzjahre/TRY_Handbuch.pdf?__blob=publicationFile&amp;v=2">
https://www.bbsr-energieeinsparung.de/EnEVPortal/DE/Regelungen/Testreferenzjahre/Testreferenzjahre/TRY_Handbuch.pdf?__blob=publicationFile&amp;v=2</a> 
(access: 08/05/2020)<p style="margin-bottom:0;">Meteonorm 2019: Database for timeseries of weather data, Meteotest,
<a href="https://meteonorm.com/">https://meteonorm.com/</a><p style="margin-bottom:0;">
Energy Plus 2020: <a href="https://energyplus.net/weather">
https://energyplus.net/weather</a> (access: 08/05/2020)<p style="margin-bottom:0;">
&nbsp;<hr>

<p style="margin-bottom:0;"><b>Characteristics:</b>
<table>
	<tr>
		<td style="width: 150px;">Direct Feedthrough</td>
		<td style="width: 10px;">:</td>
        <td> No</td>
    </tr>
    <tr>
    	<td>Sample Time</td>
        <td>:</td>
        <td>Continuous</td>
    </tr>
    <tr>
    	<td>Vectorized</td>
        <td>:</td>
        <td>Yes</td>
    </tr>
</table>

</body>

</html>
