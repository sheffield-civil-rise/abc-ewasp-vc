
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Callback for Carnot model Collector_Unglazed_ISO9806</title><meta name="generator" content="MATLAB 9.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-10-05"><meta name="DC.source" content="CarnotCallbacks_CollectorUnglazedISO9806.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Callback for Carnot model Collector_Unglazed_ISO9806</h1><!--introduction--><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Function Call</a></li><li><a href="#2">Inputs</a></li><li><a href="#3">Outputs</a></li><li><a href="#4">Description</a></li><li><a href="#5">References and Literature</a></li><li><a href="#7">Calculations</a></li><li><a href="#9">Copyright and Versions</a></li></ul></div><h2 id="1">Function Call</h2><pre>ok = CarnotCallbacks_CollectorUnglazedEN12975conf(parameterfile,userParam)</pre><h2 id="2">Inputs</h2><pre>parameterfile - char variable with the name of the parameter file
userParam    - false when parameters are read from file
             - true when user is allowed to edit parameters</pre><h2 id="3">Outputs</h2><pre>ok - true if loading of parameters was successfull, false otherwise</pre><h2 id="4">Description</h2><pre>Search for the parameterfile in the folders parameter_set of the model
and load the parameter set. The function is used by the mask of the
Carnot Simlink block.
The user can specify whether the parameters are read from file or edited
by the user.</pre><h2 id="5">References and Literature</h2><pre>Function is used by: Simulink block Collector Unglazed ISO 9806
Function calls: CarnotCallbacks_loadConfParameters.m
see also CarnotCallbacks_loadConfParameters</pre><h2 id="7">Calculations</h2><h2 id="9">Copyright and Versions</h2><p>Copyright (c) 2017-2019 Viessmann Werke GmbH and the authors</p><pre>************************************************************************
VERSIONS
version: CarnotVersion.MajorVersionOfFunction
Ver. Author  Changes                                         Date
6.1  drhf    created                                         26jun2015
7.1  drhf    renamed                                         10may2019
             new: CarnotCallbacks_CollectorUnglazedISO9806
             old: CarnotCallbacks_CollectorUnglazedEN12975conf
             adapted to new callback structure of models
*************************************************************************</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Callback for Carnot model Collector_Unglazed_ISO9806
%% Function Call
%  ok = CarnotCallbacks_CollectorUnglazedEN12975conf(parameterfile,userParam)
%% Inputs
%  parameterfile - char variable with the name of the parameter file
%  userParam    - false when parameters are read from file
%               - true when user is allowed to edit parameters
%% Outputs
%  ok - true if loading of parameters was successfull, false otherwise
% 
%% Description
%  Search for the parameterfile in the folders parameter_set of the model
%  and load the parameter set. The function is used by the mask of the
%  Carnot Simlink block.
%  The user can specify whether the parameters are read from file or edited
%  by the user.
% 
%% References and Literature
%  Function is used by: Simulink block Collector Unglazed ISO 9806
%  Function calls: CarnotCallbacks_loadConfParameters.m
%  see also CarnotCallbacks_loadConfParameters

function varargout = CarnotCallbacks_CollectorUnglazedISO9806(varargin)
% check correct number of input arguments
if nargin >= 2 && ischar(varargin{1})
    command = varargin{1};
else
    error(['CarnotCallbacks_HeatPumpAirSourceConf: First argument must be ', ...
        'a valid function name. Second argument must be the blockhandle.'])
end

%% Calculations
blockpath = fullfile('Source','Solar_Thermal','Collector_Unglazed_ISO9806','parameter_set');
% switch for command line calls
switch command      % switch for command line calls
    case 'UserEdit'
        % switch to edit mode for file and path
        [ok, param] = CarnotCallbacks_CONFblocks('UserEdit', varargin{2});
    case 'GetFilename'
        % get the filename and pathname, set these variables in the mask
        [ok, param] = CarnotCallbacks_CONFblocks('GetFilename', varargin{2:end}, blockpath);
    case 'SaveFilename'
        % save parameter set with new filename and pathname
        [ok, param] = CarnotCallbacks_CONFblocks('SaveFilename', varargin{2:end}, blockpath);
    case 'SetParameters'
        % load parameterfile and set parameters automatically
        [ok, param] = CarnotCallbacks_CONFblocks('SetParameters', varargin{2:end}, blockpath);
    case 'CallHPparam'
        % launch GUI to identify parameters K
        K = set_param(gcb, 'K');
        [ok, K] = HeatpumpAirSourceHPparam(K);
        set_param(gcb, 'K', K)
    otherwise
        % something went wrong
        ok = false;
        param = -1;
end
varargout{1} = ok;
varargout{2} = param;
end  % CarnotCallbacks_CollectorUnglazedISO9806

%% Copyright and Versions
% Copyright (c) 2017-2019 Viessmann Werke GmbH and the authors
%  
%  ************************************************************************
%  VERSIONS
%  version: CarnotVersion.MajorVersionOfFunction
%  Ver. Author  Changes                                         Date
%  6.1  drhf    created                                         26jun2015
%  7.1  drhf    renamed                                         10may2019
%               new: CarnotCallbacks_CollectorUnglazedISO9806
%               old: CarnotCallbacks_CollectorUnglazedEN12975conf
%               adapted to new callback structure of models
% *************************************************************************

##### SOURCE END #####
--></body></html>