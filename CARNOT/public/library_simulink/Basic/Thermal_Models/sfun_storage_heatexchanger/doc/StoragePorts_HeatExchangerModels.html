<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="de-at" http-equiv="Content-Language" />
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>heat exchanger EN12977 - storage</title>
<style type="text/css">
 div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:108.0pt;
	line-height:120%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}
p
	{margin-right:0cm;
	margin-left:108.0pt;
	line-height:120%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}
 ul
	{margin-bottom:0cm;}
 li.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:108.0pt;
	line-height:120%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	color:#5A5A5A;
	}
 .auto-style2 {
	font-family: Calibri;
	text-align: left;
}
.auto-style3 {
	font-size: medium;
}
.auto-style7 {
	font-size: large;
}
.auto-style8 {
	font-weight: bold;
	font-size: large;
}
.auto-style10 {
	font-size: 13.5pt;
}
.auto-style14 {
	text-align: left;
	margin: 0 2px;
}
.auto-style15 {
	text-align: left;
	font-size: medium;
	margin: 0 2px;
}
.auto-style17 {
	background-color: #FFFFFF;
}
.auto-style18 {
	font-family: Calibri;
}
.auto-style19 {
	margin-left: 145px;
}
.auto-style20 {
	font-size: 12pt;
}
.auto-style21 {
	font-size: x-large;
}
.auto-style22 {
	font-size: x-large;
	font-weight: bold;
}
</style>
</head>

<body>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-bookmark:literature'><span lang=EN-US style='font-size:13.5pt;
line-height:120%;mso-fareast-font-family:"Times New Roman"'>

<hr size=10 width="100%" noshade style='color:#A0A0A0' align=center>

<h1 class="auto-style2" style="width: 852px; height: 38px">Heat Exchanger Models<span lang="de-at">
</span>for Storage_Type_N</h1>

</span></span></div>

<p class="auto-style8">HX_data_fit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
heat exchanger model for linear data fit <br />
HX_data_fit_stratified&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as above, but for 
stratified charging </p>
<p class="auto-style8">HX_EN12977&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
heat exchanger model for data fit according to TRNSYS Type 340 model <br />
HX_EN12977_stratified &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as above, but for 
stratified charging </p>
<p class="auto-style8">HX_tube theoretical&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
model of a smooth tube heat exchanger&nbsp; <br />
HX_tube_stratified&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
as above, but for stratified charging </p>
<p class="auto-style8">HX_finned_tube&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
theoretical model of a finned tube heat exchanger&nbsp; <br />
HX_finned_tube_stratified&nbsp;&nbsp; as above, but for stratified charging </p>
<p class="auto-style8">&nbsp;</p>
<p class="auto-style3">&nbsp;<span
style='mso-bookmark:heat_exchanger_EN12977'><span style='mso-bookmark:literature'><b><span
lang=EN-US style='line-height:120%' class="auto-style3"><span
lang=EN-US style='line-height:120%' class="auto-style7"><br />
<img src="Figures/imgStoragePorts.gif" /><br />
Path: <span
style='mso-bookmark:electric_heating_port'>
<span style='mso-bookmark:literature'>
<span
lang=EN-US style='font-size:13.5pt;line-height:120%'> CARNOT/<span lang="de">S</span>torage<span lang="de">/Thermal</span>/<span lang="de">Storage_P</span>orts</span></span></span></span></span></b></span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-bookmark:heat_exchanger_EN12977'><span style='mso-bookmark:literature'><span
lang=EN-US style='font-size:13.5pt;line-height:120%;mso-fareast-font-family:
"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></span></span></div>

<p><span style='mso-bookmark:literature'><b><span lang=EN-US style='font-size:
13.5pt;line-height:120%'>Purpose</span></b><span lang=EN-US style='font-size:13.5pt;line-height:120%'> <br>
</span><span style='line-height:120%' class="auto-style3"> H</span><span lang=EN-US style='line-height:120%' class="auto-style3">eat exchanger </span>
<span style='line-height:120%' class="auto-style3"> models </span>
<span class="auto-style3">for the thermal storage model "Storage_Tnode" used in 
the Storage_Type_N blocks. </span></span></p>

<p style="width: 849px"><span style='mso-bookmark:literature'><b><span lang=EN-US style='font-size:
13.5pt;line-height:120%'>Description</span></b><span lang=EN-US style='font-size:13.5pt;line-height:120%'> <br>
</span><span class="auto-style10">
<span style='line-height:120%' class="auto-style3"> 
<span lang=EN-US style='line-height:120%' class="auto-style3"> The incoming TH</span>B<span lang=EN-US style='line-height:120%' class="auto-style3"> </span>
is transformed to a vector giving the heating power to each node of the storage.<span lang=EN-US style='font-size:13.5pt;line-height:120%'> </span>
The</span><span lang=EN-US style='line-height:120%' class="auto-style3"> </span>
<span style='line-height:120%' class="auto-style3"> heat exchanger models use 
the basic block</span><span lang=EN-US style='line-height:120%' class="auto-style3"> </span>
<span style='line-height:120%' class="auto-style3"> "</span><span lang=EN-US style='line-height:120%' class="auto-style3">sfun_storage_heatexchanger</span><span style='line-height:120%' class="auto-style3">" </span>
</span><span style='line-height:120%' class="auto-style3"> in 
CARNOT\Basic\Thermal_Models. In this block the s-function 
"storage_heatexchanger" solves the different equations for the heat transfer. </span>
<br />
</span></p>
<p class="auto-style7" style="width: 847px">
<span style="mso-bookmark:OLE_LINK1"><b style="mso-bidi-font-weight:
normal"><span lang="EN-US">Inputs and outputs<o:p></o:p></span></b></span></p>
<p class="auto-style7" style="width: 847px">
<o:p>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">S<span class="auto-style3">tructure 
the input vector</span></span></o:p></p>
<o:p></o:p>
<table class="auto-style19" style="width: 58%">
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Port</span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td>
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">&nbsp;I</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">ndex</span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">U</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">se<span style="mso-tab-count:1">
		</span></span><span style="mso-tab-count:1">
		<span style="mso-bookmark: OLE_LINK1">&nbsp;</span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15">
		<span style="mso-bookmark: OLE_LINK1">U</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">nit</span></p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span style="mso-bookmark: OLE_LINK1">
		</span></p>
		</td>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span style="mso-bookmark: OLE_LINK1"> 
		.</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">..</span><span style="mso-bookmark: OLE_LINK1"> </span>
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark:OLE_LINK10">NODES</span></span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">temperatures 
		of storage nodes<span style="mso-spacerun:yes"> </span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">degree Celsius </span>
		</p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">2<span class="auto-style3" style="mso-tab-count:
1"> </span></span></p>
		</td>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1<span class="auto-style3" style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">inlet temperature<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">d</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">egree 
		Celsius </span></p>
		</td>
	</tr>
	<tr>
		<td style="height: 23px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
		<span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span></p>
		</td>
		<td style="height: 23px">
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">2<span class="auto-style3" style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px; height: 23px;">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">massflow<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 240px; height: 23px;">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">kg/s </span></p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
		<span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>
		</p>
		</td>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">3<span class="auto-style3" style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">pressure<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Pa</span></p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
		<span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td>
		<p class="auto-style15"><span style="mso-tab-count:1">
		<span style="mso-bookmark: OLE_LINK1">4</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">fluid ID (defined in 
		carlib.h)</span></p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
		<span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">5<span class="auto-style3" style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">mixture (defined in 
		carlib.h)</span></p>
		</td>
	</tr>
</table>
<p class="MsoNormal">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">Structure 
of the output vector</span></p>
<o:p></o:p>
<table class="auto-style19" style="width: 58%">
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Port</span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td>
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">&nbsp;I</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">ndex</span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">U</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">se<span style="mso-tab-count:1">
		</span></span><span style="mso-tab-count:1">
		<span style="mso-bookmark: OLE_LINK1">&nbsp;</span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15">
		<span style="mso-bookmark: OLE_LINK1">U</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">nit</span></p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span style="mso-bookmark: OLE_LINK1">
		</span></p>
		</td>
		<td>
		<p class="auto-style15">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span style="mso-bookmark: OLE_LINK1"> 
		.</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">..</span><span style="mso-bookmark: OLE_LINK1"> </span>
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark:OLE_LINK10">NODES</span></span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15"><span style="mso-bookmark:OLE_LINK1">
		<span class="auto-style18"><span class="auto-style3" lang="EN-US"><span lang="EN-US" style="mso-bookmark: OLE_LINK1">power entering 
		node from outside</span></span><span class="auto-style3">, <br />
		<span class="auto-style3" lang="EN-US">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">vector with 
		one element per node</span></span></span></span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15">
		W</p>
		</td>
	</tr>
	<tr>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">2<span class="auto-style3" style="mso-tab-count:
1"> </span></span></p>
		</td>
		<td>
		<p class="auto-style14">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span style="mso-bookmark: OLE_LINK1"> 
		.</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">..</span><span style="mso-bookmark: OLE_LINK1"> </span>
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark:OLE_LINK10">NODES</span></span><span style="mso-bookmark: OLE_LINK1">&nbsp;
		</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
		<span class="auto-style3" style="mso-tab-count:1">&nbsp;
		</span></span></p>
		</td>
		<td style="width: 328px">
		<p class="auto-style15">
		<span style="mso-bookmark:OLE_LINK1"><span class="auto-style18"><span class="auto-style3" lang="EN-US"><span lang="EN-US" style="mso-bookmark: OLE_LINK1">temperature of 
		the heat exchanger at node</span></span><span class="auto-style3">,</span></span></span></p>
		<p class="auto-style15">
		<span style="mso-bookmark:OLE_LINK1"><span class="auto-style18">
		<span class="auto-style3"><span class="auto-style3" lang="EN-US">
		<span lang="EN-US" style="mso-bookmark: OLE_LINK1">vector with 
		one element per node</span></span></span></span></span></p>
		</td>
		<td style="width: 240px">
		<p class="auto-style15"><span style="mso-bookmark: OLE_LINK1">d</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">egree 
		Celsius </span></p>
		</td>
	</tr>
</table>
<p class="MsoNormal">&nbsp;</p>
<p class="auto-style3"><span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bidi-font-weight: normal"><strong>Parameters</strong><o:p></o:p></span></span></p>
<p class="MsoNormal"><span lang="EN-US" style="mso-bookmark: OLE_LINK1">All 
parameter are non- tunable parameters (values are initialized at simulation 
start and cannot change during the simulation).<o:p><br />
</o:p>
The heat exchanger model knows different types of heat exchangers. The type is 
defined by the PORT_ID</span><span style="mso-bookmark: OLE_LINK1"> (see below)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">.
</span></p>
<p class="MsoNormal"><span lang="EN-US" style="mso-bookmark: OLE_LINK1"><o:p>&nbsp;</o:p></span></p>
<span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<p class="auto-style21" style="width: 819px">
<span style="mso-bookmark:OLE_LINK1"><b style="mso-bidi-font-weight:
normal"><span lang="EN-US">Heat transfer calculation<o:p></o:p></span></b></span></p>
<p class="auto-style3" style="width: 819px">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">The power 
of the heat exchange per node is calculated by the mathematical function derived 
from</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
mdot * cp * dThx = U * dA * (Tnode - Thx)<br />
<br />
Replace (Tnode-Thx) by teta, than dThx is -dteta</span><span style="mso-bookmark:
OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</span><span style="font-size:12.0pt">&nbsp;&nbsp;&nbsp; </span></o:p>
</span><span style="mso-bookmark:OLE_LINK1">
<span class="auto-style3" style="mso-ansi-language:
DE">mdot * cp * dteta = - U * dA * teta</span></span><span style="mso-bookmark:
OLE_LINK1"><span style="font-size:12.0pt;mso-ansi-language:DE"><o:p><br />
&nbsp;&nbsp;&nbsp; </o:p>
</span></span><span style="mso-bookmark:OLE_LINK1">
<span class="auto-style3" style="mso-ansi-language:
DE">dteta / teta = - U * dA / (mdot * cp)</span></span><span style="mso-bookmark:
OLE_LINK1"><span style="font-size:12.0pt;mso-ansi-language:DE"><o:p><br />
</o:p>
</span></span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
Integrate 
from inlet position to outlet position</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">. 
The equation uses the upwind scheme from Patankar [Patankar 1981] so the inlet 
temperature of the heat exchanger node is the temperature of the node upwards in 
flow direction.</span><span style="mso-bookmark:
OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</span><span style="font-size:12.0pt">&nbsp;&nbsp;&nbsp; </span></o:p>
</span>ln(teta(out)/teta(in)) 
= - U * A / (mdot * cp)<o:p><br />
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
<br />
Exponentiate and solve for teta(out)</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span>&nbsp;&nbsp;&nbsp; teta(out) = teta(in) * 
exp(-U*A/(mdot*cp))<o:p><br />
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
<br />
Replace teta by (Tnode - Thx) and solve for</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">
</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
Thx(out), the outlet temperature of the heat exchanger in one node</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span>&nbsp;&nbsp;&nbsp; Thx(out) = Tnode(out) + 
((Thx(in) - Tnode(in)) * exp(-U*A/(mdot*cp))<o:p><br />
</o:p>
The power of the node is calculated (Tnode(in) 
and Tnode(out) are the same since nodes are fully mixed)<br />
&nbsp;&nbsp;&nbsp; QdotHX(node)
= 
UA*(Thx(in)-Thx(node)) / log((Thx(in)-Tstore(node)/(Thx(node)-Tstore(node)))<o:p></o:p></p>
</span>
<p class="auto-style3" style="width: 819px">
w<span style="mso-bookmark: OLE_LINK1">ith<br />
&nbsp;c</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">p </span>
<span style="mso-bookmark: OLE_LINK1">
	: </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	specific heat capacity </span><span style="mso-bookmark: OLE_LINK1">
	in </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	J/(kg*K) <br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">Thx(in)
</span><span style="mso-bookmark: OLE_LINK1">
	: </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	inlet temperature of heat exchanger node </span>
<span style="mso-bookmark: OLE_LINK1">
	in </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	degree Celsius <br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">Thx(node)
</span><span style="mso-bookmark: OLE_LINK1">
	: </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	temperature of heat exchanger node </span>
<span style="mso-bookmark: OLE_LINK1">
	in </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	degree Celsius <br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">Tstore
</span><span style="mso-bookmark: OLE_LINK1">
	: </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	temperature of the storage node </span>
<span style="mso-bookmark: OLE_LINK1">
	in </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	degree Celsuis </span></p>
<p class="auto-style3" style="width: 819px">
The heat transfer calculation is done by an s-function in the underlying model
<a href="#S-function_sfun_storage_heatexchanger">sfun_storage_heatexchanger</a>.</p>
<p class="auto-style3" style="width: 819px">
&nbsp;</p>
</span>
<p class="MsoNormal" style="width: 861px">
<o:p><span
style='mso-bookmark:literature'><span style='mso-bookmark:schwamberger'>
<span style='line-height:120%' class="auto-style21"><strong>Stratified Charging</strong></span></span></span></o:p></p>
<p class="MsoNormal" style="width: 861px">
<o:p></o:p>
<o:p><span
style='mso-bookmark:literature'><span style='mso-bookmark:schwamberger'>
<span
lang=EN-US style='line-height:120%' class="auto-style3">For this stratified charging heat exchanger the heat transfer is set to zero if
the temperature in the storage is above the heat exchanger temperature. If you
specify <span class=GramE>a</span> inlet above the outlet, the flow in the heat
exchanger is going down in the storage until it reaches a node where the
temperature is lower than the flow temperature. At this node it starts charging
the storage. To model a complete stratified charging heat exchanger, set
inlet-position to 1 and outlet- position to 0. <br />
<span
lang=EN-US style='line-height:120%'>The port</span><span lang="de-at"><span style='line-height:120%'>s</span></span><span
lang=EN-US style='line-height:120%'> also model stratified discharging for inlet below outlet. In this
case the port starts discharging the storage if the flow temperature reaches a
node where the temperature is higher.</span></span></span></span></o:p></p>
<p class="MsoNormal" style="width: 868px">
<o:p><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">In 
case of no mass-flow (Mass-flow smaller than the predefined constant 
“NO_MASSFLOW” in carlib.h) the node temperature of the 
heat exchanger is set to the node temperature of the storage. The power output 
is zero.</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">For 
undefined heat exchangers </span><span lang="de-at">
<span class="auto-style3" style="mso-bookmark: OLE_LINK1">(Port_ID not listed 
below) </span></span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">the
</span><span lang="de-at">
<span class="auto-style3" style="mso-bookmark: OLE_LINK1">model</span></span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"> 
takes a default value of 500 W/K</span></span><span style="font-size:12.0pt"><o:p> 
for the heat transfer.<br />
</o:p></span></o:p></span></o:p></p>
<p class="MsoNormal">&nbsp;</p>
<p class="auto-style22">Heat exchanger models and heat transfer equations</p>
<p class="MsoNormal"><span style="mso-bookmark:OLE_LINK1">
<b style="mso-bidi-font-weight:
normal"><span class="auto-style7" lang="EN-US">Smooth tube heat exchanger 
(theoretical model) <br />
</span><span class="auto-style7">&nbsp;&nbsp;&nbsp; </span>
<span class="auto-style7" lang="EN-US">portID = 201</span><span class="auto-style7">
</span><span class="auto-style7" lang="EN-US"><br />
</span><span style="mso-bookmark: OLE_LINK1">
<b style="mso-bidi-font-weight: normal"><span class="auto-style7">&nbsp;&nbsp;&nbsp;
</span><span class="auto-style7" lang="EN-US">portID = </span></b></span>
<span class="auto-style7" lang="EN-US">301 </span><span class="auto-style7">for
</span><span class="auto-style7" lang="EN-US">stratified charging</span></b></span><span style="mso-bookmark:
OLE_LINK1"><b style="mso-bidi-font-weight:normal"><span lang="EN-US" style="font-size:12.0pt"><o:p></o:p></span></b></span></p>
<p class="auto-style3" style="width: 878px">
<span style="mso-bookmark:OLE_LINK1"><b style="mso-bidi-font-weight:
normal"><span lang="EN-US" class="auto-style7">Finned tube heat exchanger (theoretical model) <br />
</span><span class="auto-style7">&nbsp;&nbsp;&nbsp; </span> <span lang="EN-US">
<span class="auto-style7">portID = 202<br />
</span>
</span><span style="mso-bookmark: OLE_LINK1">
<b style="mso-bidi-font-weight: normal"><span class="auto-style7">&nbsp;&nbsp;&nbsp;
</span><span lang="EN-US"><span class="auto-style7" lang="EN-US">portID = </span>
</span></b></span><span lang="EN-US" class="auto-style7">302 </span>
<span class="auto-style7">for </span> <span lang="EN-US">
<span class="auto-style7">stratified charging</span><o:p></o:p></span></b></span></p>
<p class="auto-style3" style="width: 878px">
<span class="auto-style7" lang="EN-US" style="mso-bookmark: OLE_LINK1"><strong>
<span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="font-size:12.0pt">
<img alt="" height="614" src="Figures/imgParaHxTube.jpg" width="440" /><br />
<br />
<img alt="" height="738" src="Figures/imgParaHxFinTube.jpg" width="440" /></span></span></strong></span></p>
<span style="mso-bookmark:OLE_LINK1">
<p class="auto-style3" style="width: 882px">
&nbsp;</p>
<p class="auto-style3" style="width: 882px">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">Heat 
transfer calculation [Wagner 1991]:</span><span style="mso-bookmark: OLE_LINK1"><span class="auto-style3">
<br />
<br />
&nbsp;&nbsp;&nbsp;
</span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">Nu</span><span style="mso-bookmark: OLE_LINK1">(outside)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"> = 0.5 * (Gr 
* Pr)^0.25<o:p><br />
<br />
</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp; Nu(inside) = 
0.0235*(Re^0.8 - 230)*Pr^0.48
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
<br />
</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span>
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">U</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">(outside)</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"> 
= Nu<span class="auto-style3" style="mso-bookmark: OLE_LINK1">(outside)</span>*<span class="auto-style3" style="mso-bookmark: OLE_LINK1">condFluid<span lang="de-at"> 
/ (Dpipe * PI/2)</span><br />
<br />
</span>
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp; 
U(inside) =&nbsp; Nu(inside)*condFluid / Dpipe</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
</span></p>
<p class="auto-style3" style="width: 882px">
with<br />
<span style="mso-bookmark:OLE_LINK1">
&nbsp;Ahx&nbsp;: Heat exchanger surface in m²<br />
&nbsp;condFluid : thermal_conductivity of fluid in W/m/K<br />
</span>&nbsp;Gr : Grashof number of the fluid for the inlet temperature of heat 
exchanger node and the storage node temperature.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The function Grashof is available in 
carlib library. <br />
&nbsp;Nu : Nusselt number for the heat transfer inside or outside of the pipe.
<br />
&nbsp;Pr&nbsp;:&nbsp;Prandtl number of the fluid at mean temperature (average between heat 
exchanger inlet and storage node). <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The function Prandtl is available in carlib 
library. <br />
&nbsp;Re : Renolds number of the fluid flow inside of the Pipe. <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The function Reynolds is available in 
carlib library. <br />
&nbsp;U&nbsp;: Heat transfer in W/m²/K<br />
&nbsp;UA&nbsp;: Integral heat transfer in W/K </p>
<p class="auto-style3" style="width: 883px">
<span style="mso-bookmark: OLE_LINK1">
	<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<br />
</p>
<p class="auto-style3" style="width: 883px">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Finned tube additionally have 
the fin heat transfer [Wagner 1991] which means a correction of the smooth tube 
heat transfer:<br />
</span>
<span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">m = (2*U/(Condwall*Sfin)) ^0.5<o:p><br />
<br />
</o:p>
The heat transfer from the pipe is reduced by the place occupied by the fins</span><span style="mso-bookmark: OLE_LINK1">.
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">The heat transfer of the fins is added:<o:p><br />
</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span>
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">U</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">(outside_fin)</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"> 
=
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">U</span><span style="mso-bookmark: OLE_LINK1">(<span lang="de-at">outside</span>)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">*(1.0 - Sfin*XNfin)</span> + Sfin*XNfin * m * 
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">c</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">ond</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">W</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">all*tanh(m*0.5*(Dfin-Dpipe))<br />
<br />
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">For smooth tube 
heat exchangers this gives:</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">U<span class="auto-style3" style="mso-bookmark: OLE_LINK1">(tube)</span> 
= 1 / (</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">1/U(outside)</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"> + Swall/</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">c</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">ond</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">W</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">all<span class="auto-style3" style="mso-bookmark: OLE_LINK1"> 
+
</span>
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">1/U(inside))</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
<br />
</span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">And for finned 
tubes the heat transfer is:</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
<span class="auto-style3" style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span>U<span class="auto-style3" style="mso-bookmark: OLE_LINK1">(<span lang="de-at">finned
</span>tube)</span> = 1 / (<span class="auto-style3" style="mso-bookmark: OLE_LINK1">1/U(outside<span lang="de-at">_fin</span>)</span> + Swall/<span class="auto-style3" style="mso-bookmark: OLE_LINK1">c</span>ond<span class="auto-style3" style="mso-bookmark: OLE_LINK1">W</span>all<span class="auto-style3" style="mso-bookmark: OLE_LINK1"> 
+ 1/U(inside))</span><br />
<br />
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">For the integral heat 
transfer the exchanger surface has to be integrated:<o:p><br />
</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;
</span>
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">UA 
= U*Ahx</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span></p>
<p class="auto-style3" style="width: 883px">
<font size="3">with <br />
<span style="mso-bookmark:OLE_LINK1">
&nbsp;</span>Dpipe&nbsp;: outer diameter of heat exchanger pipe in m<span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P1)</span><br />
<span style="mso-bookmark:OLE_LINK1">
<span style="mso-bookmark:OLE_LINK1">
	<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
&nbsp;Swall : wall thickness 
in m</span><span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P2)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<br />
</span></span>&nbsp;<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Lpipe&nbsp;: length of pipe 
in m</span><span lang="de-at"><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P3)</span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
<span style="mso-bookmark:OLE_LINK1">
&nbsp;condWall : thermal 
conductivity of heat exchanger wall in W/(m*K)<span lang="de-at">&nbsp;&nbsp;&nbsp; 
(P4)</span><br />
&nbsp;Dfin&nbsp;: total 
diameter of pipe with fins&nbsp;in m <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P5)</span><br />
</span>
</span>&nbsp;</span>Sfin&nbsp;: wallthickness fin&nbsp;in m<span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P6)</span><br />
<span style="mso-bookmark:OLE_LINK1">
&nbsp;</span>XNfin&nbsp;: number of fins per length in 1/m<span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P7)</span> </font></p>
<p class="auto-style3" style="width: 883px">
&nbsp;</p>
<p class="auto-style7"><span style="mso-bookmark:OLE_LINK1">
<span style="mso-bookmark:
OLE_LINK11"><b style="mso-bidi-font-weight:normal"><span lang="EN-US">Heat 
exchanger with a heat transfer fitted to measurement</span></b></span><b style="mso-bidi-font-weight:normal"><span lang="EN-US"><br />
</span>&nbsp;&nbsp;&nbsp; <span lang="EN-US">portID = 203<br />
</span>&nbsp;&nbsp;&nbsp; <span style="mso-bookmark: OLE_LINK1">
<span lang="EN-US"><b style="mso-bidi-font-weight: normal">portID</b></span><b style="mso-bidi-font-weight: normal">
</b></span><span lang="EN-US">= 303 for stratified charging<o:p></o:p></span></b></span></p>
<p class="auto-style3">
<span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<img alt="" height="429" src="Figures/imgHxDataFit.jpg" width="440" /></span></span></p>
</span>
<p class="MsoNormal">
<span class="auto-style3" style="mso-bookmark: OLE_LINK1">Equation for the heat 
transfer :<br />
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
<br />
</span></span><span class="auto-style3" style="mso-bookmark: OLE_LINK1">
<span style="mso-bookmark: OLE_LINK1">
	&nbsp; </span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">UA =
<span style="mso-bookmark:OLE_LINK18">UAC </span>+ mdot*<span style="mso-bookmark:OLE_LINK20">UAM
</span>+ (Theatexchanger-Tstorage)*<span style="mso-bookmark:OLE_LINK22">UAT</span></span></p>
<p class="MsoNormal">
with<br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">UAC constant 
heat transfer rate </span><span style="mso-bookmark: OLE_LINK1">
	in </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	W/K 
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P1)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"><br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">UAM 
mass-flow dependent heat transfer&nbsp;</span><span style="mso-bookmark: OLE_LINK1">in
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	W*s/(kg*K)</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;&nbsp; 
(P2)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<br />
</span><span style="mso-bookmark: OLE_LINK1">
	&nbsp;</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">UAT 
temperature dependent heat transfer&nbsp;</span><span style="mso-bookmark: OLE_LINK1">in</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">&nbsp;W/K/°C</span><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P3)</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"> </p>
<p class="auto-style3">&nbsp;</p>
<p class="auto-style7"><span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK11">
<b style="mso-bidi-font-weight:normal">Heat 
exchanger with a heat transfer<span lang="de-at"> from EN 12977 test reports / 
TRNSYS Type 340</span> </b></span><b style="mso-bidi-font-weight:normal">
<span lang="EN-US"><br />
</span>&nbsp;&nbsp;&nbsp; <span lang="EN-US">portID = 20</span>4<span lang="EN-US"><br />
</span>&nbsp;&nbsp;&nbsp; 
<span lang="EN-US"><b style="mso-bidi-font-weight: normal">portID</b></span><b style="mso-bidi-font-weight: normal">
</b><span lang="EN-US">= 30</span>4<span lang="EN-US"> for stratified charging<o:p></o:p></span></b></span></p>
<p class="auto-style3"><span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="font-size:12.0pt">
<img alt="" height="573" src="Figures/StgPortsHXmodels2.jpg" width="424" /></span></span></p>
</span>
<p class="auto-style3">E<span style="mso-bookmark: OLE_LINK1">quation for the 
heat transfer (from </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<a href="https://www.trnsys.de/static/788c19e80e1b4e690b35e44b05c8b164/ts_type_340_de.pdf">TRNSYS Type 340</a> </span>
<span style="mso-bookmark: OLE_LINK1">
	&nbsp;and <span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	<font size="3">
<span style="mso-bookmark:OLE_LINK1">
	<o:p>
<a href="https://www.igte.uni-stuttgart.de/veroeffentlichungen/publikationen-forschungs-und-testzentrum-fuer-solaranlagen-00001/">ITW 
	Test report<span lang="de-at">s</span></a></o:p></span></font></span>)
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	:<br />
<br />
<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp; </span>UA 
= UAC * mdot^UAM * ((Theatexchanger+Tstorage)/2)^UAT</span><span style="mso-bookmark: OLE_LINK1"><span class="auto-style3" style="mso-bookmark: OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	* </span>abs<span lang="EN-US" style="mso-bookmark: OLE_LINK1">(Theatexchanger-Tstorage)^UAT2</span></span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1"></p>
<p class="auto-style3">with<br />
&nbsp;UAC : heat transfer rate W/K / (kg/s) / °C <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P1)</span><br />
&nbsp;UAM : mass-flow dependent exponent of the heat transfer<span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P2)</span> <br />
&nbsp;UAT : temperature dependent exponent of the heat transfer<span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(P3)&nbsp; </span>&nbsp;<br />
<span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	&nbsp;UAT</span><span lang="de-at">2</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	: temperature
</span>
<span lang="de-at">difference </span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	dependent exponent of the heat transfer
</span>
</span>&nbsp;</span><span style="mso-bookmark: OLE_LINK1">(P4)</span></p>
<p class="auto-style3">To avoid numerical conflicts the power of the average 
temperature <span style="mso-bookmark:OLE_LINK1">(<span lang="EN-US" style="mso-bookmark: OLE_LINK1">(Theatexchanger+Tstorage)/2</span>)^UAT 
is only calculated for an average temperature above 1 °C. The result is set to 1 
for values below.</span></p>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<p class="auto-style3">&nbsp;</p>
</span>
<p class="auto-style21"><a name="S-function_sfun_storage_heatexchanger"><strong>
S</strong><strong><span style="mso-bookmark: OLE_LINK1">-function 
sfun_storage_heatexchanger</span></a></strong></p>

<p class="auto-style3"><span style="mso-bookmark: OLE_LINK1">
	As mentioned above the heat transfer calculation of the different heat 
exchanger models is done in an s-function.</span></p>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<p class="auto-style3">
<o:p><strong><span class="auto-style7">Parameters for the s-function </span> </strong></o:p>
</p>
</span>
<p class="auto-style3"><img alt="" src="Figures/sfunStorageHxMASK.jpg" /></p>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<p class="auto-style3">
<o:p>PORT_ID <span lang="de-at">&nbsp;</span>Heat Exchanger Type <br />
201&nbsp; <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>smooth 
tube heat exchanger theoretical model <br />
301&nbsp; <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>smooth 
tube heat exchanger theoretical model stratified charging <br />
202&nbsp; <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>finned 
tube heat exchanger theoretical model <br />
302 <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
finned tube heat exchanger theoretical model stratified charging <br />
203 <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
heat transfer fitted to measurement <br />
303 <span lang="de-at">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
heat transfer fitted to measurement model for stratified charging&nbsp;&nbsp;&nbsp;&nbsp;</o:p></p>
<p class="auto-style3"><span style="mso-bookmark:OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<o:p>The number of nodes, the start node and the node in the storage must be 
known by the model. These values are determined by the general mask for the 
storage tank (see 
<span style="background-position: 0% 0%; mso-highlight: yellow; background-image: none; background-repeat: repeat; background-attachment: scroll;" class="auto-style17">
<a href="Storage_Type_N.html">Storage_Type_N</a></span> for details).<o:p>
The heat transfer is divided 
by the number of nodes concerned by the heat exchanger. The calculation of the 
temperatures and transferred power is done in a loop from inlet node to outlet 
node.<o:p><br />
<br />
</o:p>
</o:p>
</o:p>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">NODES
<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span><span style="mso-tab-count:1"><span class="auto-style3" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark: OLE_LINK1">
</span></span>
</span><span style="mso-bookmark: OLE_LINK1">
	<span class="auto-style3" style="mso-bookmark: OLE_LINK1">: </span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">number of nodes in the storage concerned by the heat exchanger</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
START_NODE <span style="mso-tab-count:1">&nbsp;</span></span></span></span><span style="mso-tab-count:1"><span class="auto-style3" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark: OLE_LINK1">
	<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
&nbsp; 
: </span> </span></span> </span>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
start node of the heat exchanger in the storage</span><span style="mso-bookmark:OLE_LINK1"><span lang="EN-US" style="font-size:12.0pt"><o:p><br />
</o:p>
</span></span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">END_NODE<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="mso-tab-count:1"><span class="auto-style3" style="mso-bookmark: OLE_LINK1"><span style="mso-bookmark: OLE_LINK1">&nbsp;&nbsp; 
: </span></span>
</span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">end node of the heat exchanger in the storage<br />
P</span><span lang="de-at"><span class="auto-style3" style="mso-bookmark: OLE_LINK1">arameter </span>
</span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">1</span><span lang="de-at"><span class="auto-style3" style="mso-bookmark: OLE_LINK1"> </span>
</span>
<span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">..</span><span lang="de-at"><span class="auto-style3" style="mso-bookmark: OLE_LINK1"> </span>
</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">7 </span>
<span lang="de-at"><span class="auto-style3" style="mso-bookmark: OLE_LINK1">: </span>
</span><span class="auto-style3" lang="EN-US" style="mso-bookmark: OLE_LINK1">
parameters of the different heat exchanger equations </span></span></span><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
	</p>
<p class="auto-style3">&nbsp;</p>
<p class="auto-style20">
<o:p><strong><span class="auto-style21">Verification</span></strong></o:p></p>
<p class="auto-style20">
<o:p><a href="pdf/Faure_exchangerEN12977_Validation_Report.pdf">Faure: Heat Exchanger 
EN 12977 Validation, 2012</a></o:p></p>
<p class="auto-style20">
<o:p>
</o:p>
</p>
<p class="auto-style3">
<b style="mso-bidi-font-weight:
normal"><span style="mso-bookmark:OLE_LINK1">
<span style="mso-ansi-language:DE"><span class="auto-style21">Literatur</span></span><span class="auto-style21"><span style="mso-bookmark: OLE_LINK1">e</span></span><o:p></o:p></span></b></p>
<p class="auto-style3"><span style="mso-bookmark:OLE_LINK1">
<o:p>
<a href="https://www.igte.uni-stuttgart.de/veroeffentlichungen/publikationen-forschungs-und-testzentrum-fuer-solaranlagen-00001/">ITW Test 
report<span lang="de-at">s</span></a></o:p><br />
<a href="https://www.trnsys.de/static/788c19e80e1b4e690b35e44b05c8b164/ts_type_340_de.pdf">TRNSYS Type 34<span lang="de-at">0, 
2006</span></a> <br />
<a href="https://www.shaker.de/de/content/catalogue/index.asp?lang=de&amp;ID=8&amp;ISBN=978-3-8322-6215-0">
Drück, Harald : Mathematische Modellierung und experimentelle Prüfung von 
Warmwasserspeichern für Solaranlagen, ISBN 978-3-8322-6215-0, Shaker Verlag, 
Mai&nbsp;2007</a> <br />
EN 12977-3: Thermal solar systems and components&nbsp;- Custom built systems&nbsp;- 
Part&nbsp;3: Performance test methods for solar water heater stores; 2018 </span>
<br />
	<span style="mso-ansi-language:
DE">Wagner: Waermeuebertragung, Vogel-Verlag, 1991<o:p><br />
</o:p>
</span>
</span>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">
<o:p>VDI Wärmeatlas, VDI Verlag 2008<br />
</o:p>
<span lang="EN-US" style="mso-bookmark: OLE_LINK1">Patankar: Numerical Heat 
Transfer and Fluid Flow, 1981</span></span></p>
<p class="auto-style3"><span lang="EN-US" style="mso-bookmark: OLE_LINK1">
</p>
<p class="auto-style3"><span style='mso-bookmark:literature'>
<span lang=EN-US style='line-height:120%' class="auto-style22">Characteristics</span><span lang=EN-US style='line-height:120%' class="auto-style7"> </span></span></p>
<p class="auto-style3"><span style='mso-bookmark:literature'>
<span lang=EN-US style='font-size:13.5pt;
line-height:120%'> 
<span lang=EN-US style='line-height:120%' class="auto-style3"> Direct Feedthrough&nbsp;&nbsp;&nbsp;Yes 
<br />
</span></span><span style='line-height:120%' class="auto-style3"> Continous 
states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; None<br />
</span></span><span class="auto-style3">Discrete states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
None</span><span style='mso-bookmark:literature'><span lang=EN-US style='line-height:120%' class="auto-style3"><span lang=EN-US style='line-height:120%'><br>
Sample
time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style='line-height:120%' class="auto-style3">&nbsp;</span><span lang=EN-US style='line-height:120%' class="auto-style3">Inherited
from driving block <br>
Vectorized&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='line-height:120%' class="auto-style3">&nbsp;&nbsp;</span><span lang=EN-US style='line-height:120%' class="auto-style3">No
</span></span></p>
</span>

</body>

</html>
